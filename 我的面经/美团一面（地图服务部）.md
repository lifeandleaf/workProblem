## 美团一面（地图服务部）

### 1.简述Http协议，https和http的关系？

简述http协议：

HTTP协议(超文本传输协议HyperText Transfer Protocol)，它是基于TCP协议的应用层传输协议，是客户端和服务端进行数据传输的一种规则。

HTTP 是一种无状态 (stateless) 协议, HTTP协议本身不会对发送过的请求和相应的通信状态进行持久化处理。这样做的目的是为了保持HTTP协议的简单性，从而能够快速处理大量的事务, 提高效率。

但是，很多应用场景中，我们需要保持各种状态，如：登录状态等。我们就必须引入一些技术来记录管理状态，例如Cookie。

HTTP 协议以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此，HTTP协议不适合传输一些敏感信息，比如：信用卡号、密码等支付信息。

https和http协议的关系：

- HTTP 明文传输，数据都是未加密的，安全性较差，HTTPS（SSL+HTTP） 数据传输过程是加密的，安全性较好。
- HTTP 页面响应速度比 HTTPS 快，主要是因为 **HTTP 使用 TCP 三次握手建立连接**，客户端和服务器需要交换 3 个包，而 HTTPS除了 TCP 的三个包，还要加上 ssl 握手需要的 9 个包，所以一共是 12 个包。
- http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。
- HTTPS 其实就是建构在 SSL/TLS 之上的 HTTP 协议，所以，HTTPS 比 HTTP 要更耗费服务器资源。

[https与http区别](https://www.runoob.com/w3cnote/http-vs-https.html)

### 2.C++函数重载，在哪个阶段确定要调用的函数具体是哪一个？

C++函数重载发生在编译阶段，编译器根据函数名和形参为每个函数生成唯一标识符。

### 3.C++虚函数和重载函数的区别？

重载函数只要求函数有相同的函数名，并且重载函数是在相同作用域中定义的名字相同的不同函数。而虚函数不仅要求函数名相同，而且要求函数的签名、返回类型也相同。也就是说函数原型必须完全相同，而且虚函数特性必定是体现在基类和派生类的类层次结构中。

重载函数可以是成员函数或友员函数，而虚函数只能是非静态成员函数。

构造函数可以重载，析构函数不能重载。正好相反，构造函数不能定义为虚函数,析构函数能定义为虚函数。

重载函数的调用是以所传递参数序列的差别作为调用不同函数的依据而虚函数是根据对象的不同去调用不同类的虚函数。

**重载函数在编译时表现出多态性，是静态联编;而虚函数则在运行时表现出多态性是动态联编，动态联编是C++的精髓。**

### 4.STL中vector的具体实现原理，长度倍增的理由，每次重新申请空间迭代器为什么不会失效，增删改查的时间复杂度？

```cpp
//_Alloc 表示内存分配器，此参数几乎不需要我们关心
template <class _Ty, class _Alloc = allocator<_Ty>>
class vector{
    ...
protected:
    pointer _Myfirst;
    pointer _Mylast;
    pointer _Myend;
};
```

vector扩容原理：

在VS中当vector空间不足时，重新申请的内存空间大小是原内存空间大小的1.5倍。这样改变长度是为了减少重新申请空间次数（耗时），提高效率。

vector 容器扩容的过程需要经历以下 3 步：

- 完全弃用现有的内存空间，重新申请更大的内存空间；
- 将旧内存空间中的数据，按原有顺序移动到新的内存空间中；
- 最后将旧的内存空间释放。

这也就解释了，为什么 vector 容器在进行扩容后，与其相关的指针、引用以及迭代器可能会失效的原因。（因为存在内存的释放和重新申请）

### 5.C++类定义自然生成的构造函数有哪些，什么情况下必须对构造函数进行重写，拷贝构造函数在那些情况下会被调用？

C++11新特性

```cpp
class Dog {};
```
上述代码包含隐式定义：
```cpp
class Dog {
    // C++03
    Dog(); // 默认构造函数
    Dog(const Dog&); // 拷贝构造函数
    ~Dog() // 析构函数
    // 拷贝赋值运算符
    Dog& operator=(const Dog&);

    // C++11 新增
    Dog(Dog&&); // 移动构造函数
    // 移动赋值运算符
    Dog& operator=(Dog&&);
};
```

首先，拷贝构造函数是使用类对象的引用作为参数的构造函数，它能够将参数的属性值拷贝给新的对象，完成新对象的初始化。一般三种情况我们可能需要重写拷贝构造函数：

- 使用一个对象初始化另一个对象
- 对象作为实参传递给参数
- 函数返回值为类对象，创建临时对象作为返回值

当对象（成员包含指针）需要进行拷贝时，为了防止不同对象的指针成员指向同一块内存（浅拷贝），需要重写拷贝构造函数，实现深拷贝。

浅拷贝
- 浅拷贝可以使用的范围就是像日期类那样的，成员变量中没有指针或者数组类型的变量的时候，简简单单使用默认的构造函数就行了。

深拷贝
- 深拷贝可以使用的就是所有成员变量了，因为他就是重新开辟一段空间，让两个变量虽然内存地址不相等，但是内存中指向的内容确是一样的。

### 6.STL中map的实现原理，红黑树算法？

map是一类关联式容器。底层是用红黑树实现，根据key值有序排列，查找效率很高。它的特点是增加和删除节点对迭代器的影响很小，除了那个操作节点，对其他的节点都没有什么影响。对于迭代器来说，可以修改实值，而不能修改key。

### 7.算法题：二叉树中的最大路径和（[Leetcode 124](https://leetcode.cn/problems/binary-tree-maximum-path-sum/description/?utm_source=LCUS&utm_medium=ip_redirect&utm_campaign=transfer2china)）

